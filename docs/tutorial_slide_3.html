<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>第三章　計量経済学のための確率</title>
    <meta charset="utf-8" />
    <meta name="author" content="阿部景太" />
    <meta name="date" content="2023-03-24" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/useR-fonts.css" rel="stylesheet" />
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# 第三章　計量経済学のための確率
]
.subtitle[
## <small>A tutorial for regression analysis</small>
]
.author[
### 阿部景太
]
.date[
### 2023-03-24
]

---


&lt;style type="text/css"&gt;
.remark-slide-content {
    font-size: 30px;
    font-family: "メイリオ" ;
    padding: 1em 4em 1em 4em;
}
&lt;/style&gt;



# 練習問題 3-1

1. 「修学年数が12年以上」 「修学年数が16年未満」排反事象？

2. 「修学年数が12年以上16年未満」「修学年数が12年未満」排反事象？

3. 「修学年数が12年以上16年未満」「修学年数が12年未満」和事象？

4. 「修学年数が12年以上」 「修学年数が16年未満」積事象？

---

# 練習問題 3-2

(1) 標本空間?

(2) 公理? 

## 公理

- どのような事象についても、事象が起きる確率は0以上1以下
- 標本空間の事象のうちいずれかが起きる確率は1
- 排反事象の和事象が起きる確率は、それぞれの事象が起きる確率の和となる

---

# 練習問題 3-3

## 公理

- どのような事象についても、事象が起きる確率は0以上1以下
- 標本空間の事象のうちいずれかが起きる確率は1
- 排反事象の和事象が起きる確率は、それぞれの事象が起きる確率の和となる

---

# 練習問題 3-4

&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;border-bottom:hidden;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;算数A正答率75%以上&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; 朝食 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; はい &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; いいえ &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; はい &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.65 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; いいえ &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.05 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.05 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--

(1) 周辺確率 = `\(0.65 +0.25 = 0.90\)`

--

(2) `\(P(算数A正答率75\%以上\vert朝食食べてる) = 0.65/0.90 = 0.722\)` 

---

# 練習問題 3-4

(3) 算数A正答率が75%以上の条件なし確率は `\(0.65+0.05=0.70\)` 。これは条件付き確率と同じではないので、独立ではない。

---

# 練習問題 3-5 (1)

&lt;img src="tutorial_slide_3_files/figure-html/unnamed-chunk-2-1.png" style="display: block; margin: auto;" /&gt;

---

# 練習問題 3-5 (2)

&lt;img src="tutorial_slide_3_files/figure-html/unnamed-chunk-3-1.png" style="display: block; margin: auto;" /&gt;

---

# 練習問題 3-6

--

期待値

$$
  E[X] = -1\times\frac{1}{4} + 0\times\frac{1}{2} + 1\times\frac{1}{4} = 0
$$

--

分散
$$
  Var[X] = (-1-0)^2\times\frac{1}{4} + (0-0)^2\times\frac{1}{2} + (1-0)^2\times\frac{1}{4}
$$

---

# 練習問題 3-7



---

# 練習問題 3-8

$$
 V[X] = E[X^2]-\mu^2
$$
--

分散の期待値で表した定義　→　展開

$$
  V[X] = E[(X-\mu)^2] = E[X^2 - X\mu - X\mu + \mu^2]
$$

--

期待値の性質を使う。定数の期待値は定数： `\(E[\mu] = \mu\)` 

$$
 = E[X^2] - E[X]\mu - E[X]\mu + \mu^2
$$
---

# 練習問題 3-8

`\(E[X] = \mu\)`を代入する

$$
 = E[X^2] - \mu^2 - \mu^2 + \mu^2 \\ = E[X^2] - \mu^2
$$

---

# 練習問題 3-9

$$
 Cov[X,Y] = E[(X-E[X])(Y-E[Y])] = E[XY] - E[X]E[Y]
$$
--

２つ目の式（期待値で表した共分散の定義）を展開する

$$
= E\left[XY- XE[Y] -E[X]Y + E[X]E[Y]\right]
$$

--

期待値の性質を使う

$$
  =E[XY] - E[XE[Y]] - E[E[X]Y] + E\left[E[X]E[Y]\right]
$$

---

# 練習問題 3-9

`\(E[X], E[Y]\)`は定数（確率変数ではない）ので、期待値の性質 `\(E[aX]=aE[X]\)` が適用できる

$$
 = E[XY] - E[XE[Y]] - E[E[X]Y] + E\left[E[X]E[Y]\right]
$$

$$
 = E[XY] - E[X]E[Y] - E[X]E[Y] + E[X]E[Y]
$$
$$
 = E[XY] - E[X]E[Y]
$$

---

# 練習問題 3-10

&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;border-bottom:hidden;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;算数&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; 国語 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 0点 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 5点 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 10点 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; 0点 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; 5点 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; 10点 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
---

# 練習問題 3-10

(1)周辺確率


&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="empty-cells: hide;border-bottom:hidden;" colspan="1"&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;算数&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; 国語 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 0点 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 5点 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 10点 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; 合計 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; 0点 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; 5点 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt; 10点 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;font-weight: bold;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.3 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.4 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.3 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

# 練習問題 3-10

(2) `\(P(国語=0点) = 0.3\)`

`\(P(算数=0点|国語=0点) = 0.1/0.3 = 0.33\)`

`\(P(算数=5点|国語=0点) = 0.1/0.3 = 0.33\)`

`\(P(算数=10点|国語=0点) = 0.1/0.3 = 0.33\)`

`\(E[算数の点数|国語=0点] = 0\times0.33 + 5\times0.33 + 10\times0.33 = 5\)`

---

# 練習問題 3-10

(3) `\(P(国語=5点) = 0.4\)`

`\(P(算数=0点|国語=5点) = 0.1/0.4 = 0.25\)`

`\(P(算数=5点|国語=5点) = 0.2/0.4 = 0.50\)`

`\(P(算数=10点|国語=5点) = 0.1/0.4 = 0.25\)`


`\(E[算数の点数|国語=5点] = 0\times0.25 + 5\times0.50 + 10\times0.25 = 5\)`

---

# 実証分析問題 3-A

- t分布表：両側検定

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; df &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.15 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.1 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.05 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.025 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.01 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.005 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; p.001 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.077684 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.165300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.313752 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12.706205 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 25.451700 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 63.656741 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 127.321337 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 636.619249 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.885618 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.281931 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.919986 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.302653 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.205347 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9.924843 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14.089047 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31.599055 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.637744 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.924320 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.353363 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.182446 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.176535 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.840909 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7.453318 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12.923979 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.533206 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.778192 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.131847 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.776445 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.495406 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.604095 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.597568 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8.610302 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.475884 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.699363 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.015048 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.570582 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.163381 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.032143 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.773341 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.868827 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.439756 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.650173 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.943180 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.446912 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.968687 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.707428 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.316827 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.958816 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414924 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.616592 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.894579 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.364624 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.841244 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.499483 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.029337 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.407883 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

# 実証分析問題 3-A

- Rで書ける


```r
 t_table_two_tailed &lt;- tibble(
   df = c(1:30,seq(40,100,10),1000,Inf),
   p.2= qt(1-0.2/2,df),
   p.15 = qt(1-0.15/2,df),
   p.1 = qt(1-0.1/2,df),
   p.05 = qt(1-0.05/2,df),
   p.025 = qt(1-0.025/2,df),
   p.01 = qt(1-0.01/2,df),
   p.005 = qt(1-0.005/2,df),
   p.001 = qt(1-0.001/2,df)
   )
```



---


# 実証分析問題 3-B (1)


```r
nenshu_mean = 150*(0.38+0.08) + 450*(0.28+0.18) + 700*(0.03+0.05)

nenshu_var = (150-nenshu_mean)^2*(0.38+0.08) + (450-nenshu_mean)^2*(0.28+0.18) + (700-nenshu_mean)^2*(0.03+0.05)

nenshu_mean
```

[1] 332

```r
nenshu_var
```

[1] 32476




---

# 実証分析問題 3-B (2)


```r
grad_mean = 0*(0.38+0.28+0.03) + 1*(0.08+0.18+0.05)

grad_var = (0-grad_mean)^2*(0.38+0.28+0.03) + (1-grad_mean)^2*(0.08+0.18+0.05)

nenshu_grad_cov = (150-nenshu_mean)*(0-grad_mean)*0.38+(150-nenshu_mean)*(1-grad_mean)*0.08+(450-nenshu_mean)*(0-grad_mean)*0.28+(450-nenshu_mean)*(1-grad_mean)*0.18+(700-nenshu_mean)*(0-grad_mean)*0.03+(700-nenshu_mean)*(1-grad_mean)*0.05

nenshu_grad_cov
```

[1] 25.08

```r
nenshu_grad_cor = nenshu_grad_cov/(sqrt(grad_var)*sqrt(nenshu_var))

nenshu_grad_cor
```

[1] 0.3009129




---

# 実証分析問題 3-B (3)


```r
#大卒の条件付き確率 P(Y|X=1)

p_x1 = 0.08+0.18+0.05

nenshu_joken_exp_x1 = 150*(0.08/p_x1) + 450*(0.18/p_x1) + 700*(0.05/p_x1)

nenshu_joken_exp_x1
```

[1] 412.9032



---

# 実証分析問題 3-B (4)


```r
#大卒の条件付き確率 P(Y|X=1)

p_x0 = 0.38+0.28+0.03

nenshu_joken_exp_x0 = 150*(0.38/p_x0) + 450*(0.28/p_x0) + 700*(0.03/p_x0)

nenshu_joken_exp_x0
```

[1] 295.6522

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"coutIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
